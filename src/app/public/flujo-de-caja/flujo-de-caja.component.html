

<div class="container">
  <div class="row">
    <div class="col-sm-5">
      <label for="">Ultima Actualización: {{fecha | date: 'short'}}</label>
    </div>
    <div class="col-sm-1"></div>
    <div class="col-sm-6">
      <div class="row">
        <div class="col-sm-4">
          <button class="btn btn-azul" (click)="goToImportarFlujo()">Importar datos</button>
        </div>
        <div class="col-sm-4">
            <div (click)="myFunction()" class="dropdown">
                <button class="dropbtn">Escenario</button>
                <div id="myDropdown" class="dropdown-content">
                  <a href="#">Base</a>
                  <a href="dashboard/agregar-escenario">Agregar escenario</a>
                </div>
              </div>
        </div>
        <div class="col-sm-4">
              <dp-date-picker [(ngModel)]="selectedDate" style="font-size: 9px" [config]="datePickerConfig" theme="dp-material" placeholder="Seleccionar año"></dp-date-picker> </div>
              <!--<div *ngIf="calendario" class="col-sm-6">
                  <dl-date-time-picker
                  startView="year"
                  maxView="year"
                  minView="year">
                  </dl-date-time-picker>
              </div>-->
      </div>
    </div>
  </div>
  <br>

  <!-- Cajas de Kpis -->
  <div class="row">
    <div class="col-md-3 col-xs-6 col-lg-3 col-xl-3">
      <nb-card>
        <nb-card-header>
          <div class="row">
            <div class="col-sm-6">
              <p class="titulo-tarjeta">Saldo Inicial</p>
            </div>
            <div class="col-sm-6">

              <button class="btn btn-blanco-sm">Todos los bancos<i class="fa fa-chevron-down" aria-hidden="true"
                  style="margin-left: 2px"></i></button>
            </div>
          </div>
        </nb-card-header>
        <nb-card-body class="cuerpo-tarjeta">
          <div class="row">
            <div class="col-md-6 col-lg-6 col-xl-6 col-xs-12">
              <p class="valor-estadistica">{{saldoInicial| currency:'USD' :'symbol' : '1.0-0' }}</p>
              <!-- <p class="estadistica1"><i class="nb-arrow-thin-down"></i> 13.8%</p> -->
            </div>
            <div class="col-md-6 col-lg-6 col-xl-6 col-xs-12" style="text-align: right"><i
                class="fa fa-bar-chart grafica3"></i></div>
          </div>
        </nb-card-body>
      </nb-card>
    </div>
    <div class="col-md-3 col-xs-6 col-lg-3 col-xl-3">
      <nb-card>
        <nb-card-header class="header-valores">
          <div class="row" (click)="goToIngresosEgresos()">
            <div class="col-sm-6">
              <p class="titulo-tarjeta">Ingresos</p>
            </div>
            <div class="col-sm-6">
              <button class="btn-blanco-sm">Todo en ingresos<i class="fa fa-chevron-down" aria-hidden="true"
                  style="margin-left: 2px"></i></button>
            </div>
          </div>
        </nb-card-header>
        <nb-card-body class="cuerpo-tarjeta">
          <div class="row" style="padding-top: 0px" (click)="goToIngresosEgresos()">
            <div class="col-md-6 col-lg-6 col-xl-6 col-xs-12">
              <p class="valor-estadistica">{{sumaIngresos| currency:'USD' :'symbol' : '1.0-0' }}</p>
              <!-- <p class="estadistica2"><i class="nb-arrow-thin-up"></i> 13.8%</p> -->
            </div>
            <div class="col-md-6 col-lg-6 col-xl-6 col-xs-12" style="text-align: right"><i
                class="fa fa-bar-chart grafica2"></i></div>
          </div>
        </nb-card-body>
      </nb-card>
    </div>
    <div class="col-md-3 col-xs-6 col-lg-3 col-xl-3">
      <nb-card>
        <nb-card-header>
          <div class="row" (click)="goToIngresosEgresos()">
            <div class="col-sm-6">
              <p class="titulo-tarjeta">Egresos</p>
            </div>
            <div class="col-sm-6">
              <button class="btn-blanco-sm">Todo en egresos<i class="fa fa-chevron-down" aria-hidden="true"
                  style="margin-left: 2px"></i></button>
            </div>
          </div>
        </nb-card-header>
        <nb-card-body class="cuerpo-tarjeta">
          <div class="row" (click)="goToIngresosEgresos()">
            <div class="col-md-6 col-lg-6 col-xl-6 col-xs-12">
              <p class="valor-estadistica">{{sumaEgresos| currency:'USD' :'symbol' : '1.0-0' }}</p>
              <!-- <p class="estadistica1"><i class="nb-arrow-thin-down"></i> 13.8%</p> -->
            </div>
            <div class="col-md-6 col-lg-6 col-xl-6 col-xs-12" style="text-align: right"><i class="fa  grafica1"></i>
            </div>
          </div>
        </nb-card-body>
      </nb-card>
    </div>
    <div class="col-md-3 col-xs-6 col-lg-3 col-xl-3">
      <nb-card>
        <nb-card-header>
          <p class="titulo-tarjeta">Saldo final</p>
        </nb-card-header>
        <nb-card-body class="cuerpo-tarjeta">
          <div class="row">
            <div class="col-md-6 col-lg-6 col-xl-6 col-xs-12">
              <p class="valor-estadistica">{{saldoFinal| currency:'USD' :'symbol' : '1.0-0' }}</p>
              <!-- <p class="estadistica1"><i class="nb-arrow-thin-down"></i> 13.8%</p> -->
            </div>
            <div class="col-md-6 col-lg-6 col-xl-6 col-xs-12" style="text-align: right"><i class="fa  grafica1"></i>
            </div>
          </div>
        </nb-card-body>
      </nb-card>
    </div>

  </div>

  <!-- Gráfico -->
  <div class="row">
    <div class="col-12">
      <nb-card [nbSpinner]="spinerGrafica" nbSpinnerStatus="success" nbSpinnerMessage="Cargando">
        <nb-card-header>
          <div class="row">
            <div class="col-sm-4">
              <button class="btn btn-dark-graf" (click)="cambiarGrafico1()" [ngStyle]="{'background-color': !(mostrarGraf===1)? 'white':'black',
                                                          'color': (mostrarGraf===1)? 'white':'black'}">Evolución</button>
              <button class="btn btn-blanco-sm-graf" (click)="cambiarGrafico2()" [ngStyle]="{'background-color': !(mostrarGraf===2)? 'white':'black',
                                                          'color': (mostrarGraf===2)? 'white':'black'}">Ingreso vs egresos</button>
              <button class="btn btn-blanco-sm-graf" (click)="cambiarGrafico3()" [ngStyle]="{'background-color': !(mostrarGraf===3)? 'white':'black',
                                                          'color': (mostrarGraf===3)? 'white':'black'}">vs presupuesto</button>
            </div>
            <div class="col-sm-4"></div>
            <div class="col-sm-4">
              <div class="row">
                <div class="col-sm-6">
                  <label for="" style="font-size:12px">Filtrar por : </label>
                </div>
                <div class="col-sm-6"><button class="btn btn-blanco-sm">Ingresos:Todos <i class="fa fa-chevron-down"
                      aria-hidden="true" style="margin-left: 2px"></i></button></div>
              </div>

            </div>
          </div>
        </nb-card-header>
        <nb-card-body>
          <div>
            
          </div>
          <canvas #grafico1 style="width: 100%; height: 300px;" [ngStyle]="{'display': !(mostrarGraf===1)? 'none': 'flex'}"></canvas>
          <canvas id="IvsE" [ngStyle]="{'display': !(mostrarGraf===2)? 'none': 'flex'}"></canvas>
          <canvas id="vsPresupuesto" [ngStyle]="{'display': !(mostrarGraf===3)? 'none': 'flex'}"></canvas>
        </nb-card-body>
      </nb-card>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-4">
      <label for="" style="color: black">Flujo de caja anual</label>
    </div>
  </div>
  <br><br>

  <!-- Cajas mensuales -->
  <div class="row">
    <div class="contenedorHorizontal">
      <div class="row">
        <div class="col-sm-4">
          <div class="cajaMes">
            <nb-card>
              <nb-card-header>
                <div class="row">
                  <div class="col-sm-6">
                    <p>Enero</p>
                  </div>
                  <div class="col-sm-2"></div>
                  <div class="col-sm-4">

                    <p>2019</p>
                  </div>
                </div>
              </nb-card-header>
              <nb-card-body class="cuerpo-tarjeta">
                <div class="row">
                  <div class="col-sm-6">
                    <span class="fuerte">Saldo Inicial</span>
                  </div>

                  <div class="col-sm-6">
                    <span>{{70000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                  </div>
                </div>
                <div class="row" style="margin-bottom:10px">
                  <div class="col-sm-6">
                    <div *ngIf="verdeAMostrar!=1">
                    <i class="fa fa-chevron-right" aria-hidden="true" style="margin-right: 2px" (click)="verdeAMostrar=1"></i>
                    <span class="verde fuerte">Ingresos</span><br>
                    </div>
                    <div *ngIf="verdeAMostrar===1">
                      <i class="fa fa-chevron-down" aria-hidden="true" style="margin-right: 2px" (click)="verdeAMostrar=0"></i>
                      <span class="verde fuerte">Ingresos</span><br>
                    </div>
                    <div *ngIf="verdeAMostrar===1">
                        <i class="fa fa-plus" style="color:#5BCE60; padding-right: 10px"></i><span class="verde fuerte">Ventas únicas</span><br>
                        <i class="fa fa-plus" style="color:#5BCE60; padding-right: 10px"></i><span class="verde fuerte">Pipeline</span> <br>
                        <i class="fa fa-plus" style="color:#5BCE60; padding-right: 10px"></i><span class="verde fuerte">Por cobrar</span><br>
                        <i class="fa fa-plus" style="color:#5BCE60; padding-right: 10px"></i><span class="verde fuerte">Recurrentes</span>
                    
                  </div>
                  </div>
                  <div class="col-sm-6">
                    <span class="verde">{{40000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                    <div *ngIf="verdeAMostrar===1">
                      <span class="verde">{{25000000|currency:'USD':'symbol' : '1.0-0'}}</span><br>
                      <span class="verde">{{0|currency:'USD':'symbol' : '1.0-0'}}</span><br>
                      <span class="verde">{{0|currency:'USD':'symbol' : '1.0-0'}}</span><br>
                      <span class="verde">{{15000000|currency:'USD':'symbol' : '1.0-0'}}</span><br>
                    </div>
                    </div>
                </div>
                <div *ngIf="verdeAMostrar===1"><button class="btn btn-azul3">Añadir categoría</button></div>
                <div class="row" style="margin-bottom:10px;margin-top:10px">
                    <div class="col-sm-6">
                      <div *ngIf="rojoAMostrar!=1">
                      <i class="fa fa-chevron-right" aria-hidden="true" style="margin-right: 2px" (click)="rojoAMostrar=1"></i>
                      <span class="rojo fuerte">Egresos</span><br>
                      </div>
                      <div *ngIf="rojoAMostrar===1">
                        <i class="fa fa-chevron-down" aria-hidden="true" style="margin-right: 2px" (click)="rojoAMostrar=0"></i>
                        <span class="rojo fuerte">Egresos</span><br>
                      </div>
                      <div *ngIf="rojoAMostrar===1">
                          <i class="fa fa-plus" style="color:#E3633D; padding-right: 10px"></i><span class="rojo fuerte">Compras</span><br>
                          <i class="fa fa-plus" style="color:#E3633D; padding-right: 10px"></i><span class="rojo fuerte">Servicios</span> <br>
                          <i class="fa fa-plus" style="color:#E3633D; padding-right: 10px"></i><span class="rojo fuerte">Nómina</span><br>
                          <i class="fa fa-plus" style="color:#E3633D; padding-right: 10px"></i><span class="rojo fuerte">Tecnología</span>
                      
                    </div>
                    </div>
                    <div class="col-sm-6">
                      <span class="rojo">{{40000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                      <div *ngIf="rojoAMostrar===1">
                        <span class="rojo">{{5000000|currency:'USD':'symbol' : '1.0-0'}}</span><br>
                        <span class="rojo">{{2000000|currency:'USD':'symbol' : '1.0-0'}}</span><br>
                        <span class="rojo">{{9000000|currency:'USD':'symbol' : '1.0-0'}}</span><br>
                        <span class="rojo">{{4000000|currency:'USD':'symbol' : '1.0-0'}}</span><br>
                      </div>
                      </div>
                  </div>
                  <div *ngIf="rojoAMostrar===1"><button class="btn btn-azul3">Añadir categoría</button></div>
                <div class="row" style="margin-top:10px">
                  <div class="col-sm-6">
                    <span class="fuerte">Total</span>
                  </div>
                  <div class="col-sm-6">
                    <span>{{20000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                  </div>
                </div>
                <br>
                <div class="row">
                  <div class="col-sm-6">
                    <span class="fuerte">Saldo Final</span>
                  </div>
                  <div class="col-sm-6">
                    <span>{{90000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                  </div>
                </div>
              </nb-card-body>
            </nb-card>
          </div>

        </div>
        <div class="col-sm-4">
          <div class="cajaMes">
            <nb-card>
              <nb-card-header>
                <div class="row">
                  <div class="col-sm-6">
                    <p>Febrero</p>
                  </div>
                  <div class="col-sm-2"></div>
                  <div class="col-sm-4">

                    <p>2019</p>
                  </div>
                </div>
              </nb-card-header>
              <nb-card-body class="cuerpo-tarjeta">
                <div class="row">
                  <div class="col-sm-6">
                    <span class="fuerte">Saldo Inicial</span>
                  </div>

                  <div class="col-sm-6">
                    <span>{{70000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <i class="fa fa-chevron-right" aria-hidden="true" style="margin-right: 2px"></i>
                    <span class="verde fuerte">Ingresos</span>
                  </div>
                  <div class="col-sm-6"><span class="verde">{{40000000|currency:'USD':'symbol' : '1.0-0'}}</span></div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <i class="fa fa-chevron-right" aria-hidden="true" style="margin-right: 2px"></i>
                    <span class="rojo fuerte">Egresos</span>
                  </div>
                  <div class="col-sm-4"><span class="rojo">{{20000000|currency:'USD':'symbol' : '1.0-0'}}</span></div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <span class="fuerte">Total</span>
                  </div>
                  <div class="col-sm-6">
                    <span>{{20000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                  </div>
                </div>
                <br>
                <div class="row">
                  <div class="col-sm-6">
                    <span class="fuerte">Saldo Final</span>
                  </div>
                  <div class="col-sm-6">
                    <span>{{90000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                  </div>
                </div>
              </nb-card-body>
            </nb-card>
          </div>
        </div>
        <div class="col-sm-4">
          <div class="cajaMes">
            <nb-card>
              <nb-card-header>
                <div class="row">
                  <div class="col-sm-6">
                    <p>Marzo</p>
                  </div>
                  <div class="col-sm-2"></div>
                  <div class="col-sm-4">

                    <p>2019</p>
                  </div>
                </div>
              </nb-card-header>
              <nb-card-body class="cuerpo-tarjeta">
                <div class="row">
                  <div class="col-sm-6">
                    <span class="fuerte">Saldo Inicial</span>
                  </div>

                  <div class="col-sm-6">
                    <span>{{70000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <i class="fa fa-chevron-right" aria-hidden="true" style="margin-right: 2px"></i>
                    <span class="verde fuerte">Ingresos</span>
                  </div>
                  <div class="col-sm-6"><span class="verde">{{40000000|currency:'USD':'symbol' : '1.0-0'}}</span></div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <i class="fa fa-chevron-right" aria-hidden="true" style="margin-right: 2px"></i>
                    <span class="rojo fuerte">Egresos</span>
                  </div>
                  <div class="col-sm-4"><span class="rojo">{{20000000|currency:'USD':'symbol' : '1.0-0'}}</span></div>
                </div>
                <div class="row">
                  <div class="col-sm-6">
                    <span class="fuerte">Total</span>
                  </div>
                  <div class="col-sm-6">
                    <span>{{20000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                  </div>
                </div>
                <br>
                <div class="row">
                  <div class="col-sm-6">
                    <span class="fuerte">Saldo Final</span>
                  </div>
                  <div class="col-sm-6">
                    <span>{{90000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                  </div>
                </div>
              </nb-card-body>
            </nb-card>
          </div>
        </div>
        <div class="col-sm-4">
            <!-- <div class="cajaMes">
                <nb-card>
                  <nb-card-header>
                    <div class="row">
                      <div class="col-sm-6">
                        <p>Abril</p>
                      </div>
                      <div class="col-sm-2"></div>
                      <div class="col-sm-4">
        
                        <p>2019</p>
                      </div>
                    </div>
                  </nb-card-header>
                  <nb-card-body class="cuerpo-tarjeta">
                    <div class="row">
                      <div class="col-sm-6">
                        <span class="fuerte">Saldo Inicial</span>
                      </div>
        
                      <div class="col-sm-6">
                        <span>{{70000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-sm-6">
                        <i class="fa fa-chevron-right" aria-hidden="true" style="margin-right: 2px"></i>
                        <span class="verde fuerte">Ingresos</span>
                      </div>
                      <div class="col-sm-6"><span class="verde">{{40000000|currency:'USD':'symbol' : '1.0-0'}}</span></div>
                    </div>
                    <div class="row">
                      <div class="col-sm-6">
                        <i class="fa fa-chevron-right" aria-hidden="true" style="margin-right: 2px"></i>
                        <span class="rojo fuerte">Egresos</span>
                      </div>
                      <div class="col-sm-4"><span class="rojo">{{20000000|currency:'USD':'symbol' : '1.0-0'}}</span></div>
                    </div>
                    <div class="row">
                      <div class="col-sm-6">
                        <span class="fuerte">Total</span>
                      </div>
                      <div class="col-sm-6">
                        <span>{{20000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                      </div>
                    </div>
                    <br>
                    <div class="row">
                      <div class="col-sm-6">
                        <span class="fuerte">Saldo Final</span>
                      </div>
                      <div class="col-sm-6">
                        <span>{{90000000|currency:'USD':'symbol' : '1.0-0'}}</span>
                      </div>
                    </div>
                  </nb-card-body>
                </nb-card>
              </div> -->
        </div>
      </div>

    </div>
  </div>
</div>